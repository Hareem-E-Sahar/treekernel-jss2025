library(dplyr)
library(ggplot2)
library(tidyr)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","technique","functionality","time","seed")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
View(ptk)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","functionality","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
library(dplyr)
library(ggplot2)
library(tidyr)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","functionality","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
library(dplyr)
library(ggplot2)
library(tidyr)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","functionality","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","functionality","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
sstk
View(ptk)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","functionality","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
View(sstk)
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
library(dplyr)
library(ggplot2)
library(tidyr)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","functionality","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv")
View(esdf)
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv")
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv")
colnames(esdf)<-mycolname
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE)
colnames(esdf)<-mycolname
esdf$kernel<-"TF-IDF"
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE)
colnames(esdf)<-mycolname
esdf
esdf
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE,skip = 1)
colnames(esdf)<-mycolname
combined_data <- bind_rows(stk, sstk, ptk, esdf)
library(dplyr)
library(ggplot2)
library(tidyr)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE,skip = 1)
colnames(esdf)<-mycolname
combined_data <- bind_rows(stk, sstk, ptk, esdf)
View(stk)
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE,skip = 1)
colnames(esdf)<-mycolname
combined_data <- bind_rows(stk, sstk, ptk, esdf)
long_data <- combined_data %>%
pivot_longer(cols = c(`Prec@5`,`Prec@10`, MRR, MAP),
names_to = "Metric",
values_to = "Value")
View(combined_data)
combined_data
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
ptk_norm <- ptk[ptk$mode == "normalized", ]
View(ptk_norm)
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
stk_norm <- stk[stk$mode == "normalized", ]
stk_norm
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
sstk_norm <- sstk[sstk$mode == "normalized", ]
sstk_norm
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE,skip = 1)
colnames(esdf)<-mycolname
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE, skip = 1)
colnames(esdf)<-mycolname
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE, skip = 1)
colnames(esdf)<-mycolname
esdf <- subset(esdf, select = -mode)
esdf
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
ptk_norm <- ptk[ptk$mode == "normalized", ]
#ptk_norm <- subset(ptk_norm, select = -mode)
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
stk_norm <- stk[stk$mode == "normalized", ]
#stk_norm <- subset(stk_norm, select = -mode)
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
sstk_norm <- sstk[sstk$mode == "normalized", ]
#sstk_norm <- subset(sstk_norm, select = -mode)
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE, skip = 1)
colnames(esdf)<-mycolname
combined_data <- bind_rows(stk_norm, sstk_norm, ptk_norm, esdf)
View(combined_data)
long_data <- combined_data %>%
pivot_longer(cols = c(`Prec@5`,`Prec@10`, MRR, MAP),
names_to = "Metric",
values_to = "Value")
View(long_data)
View(long_data)
esdf
long_data <- subset(long_data, select = -mode)
all_plots<-ggplot(long_data, aes(x = kernel, y = Value, fill = kernel)) +
geom_boxplot() +
facet_wrap(~ Metric, scales = "free_y") +  # Facet by Metric, adjust y-axis independently for each
labs( y = "",x = "") +
scale_fill_manual(values = c("PTK" = "lightblue",  "SSTK"="lightgreen", "STK" = "grey")) +
theme_minimal() +
theme(legend.title = element_blank(),
axis.text.x = element_blank())
all_plots
all_plots<-ggplot(long_data, aes(x = kernel, y = Value, fill = kernel)) +
geom_boxplot() +
facet_wrap(~ Metric, scales = "free_y") +  # Facet by Metric, adjust y-axis independently for each
labs( y = "",x = "") +
scale_fill_manual(values = c("PTK" = "lightblue",  "SSTK"="lightgreen", "STK" = "grey","TF-IDF"="pink")) +
theme_minimal() +
theme(legend.title = element_blank(),
axis.text.x = element_blank())
all_plots
mycolname<-c("Prec@5","Prec@10","MRR","MAP","kernel","time","seed","mode")
ptk<-read.csv("~/treekernel-jss2025/results/RQ1/PTK/fos/metrics_RQ1_PTK_no_filter.csv", header=FALSE)
colnames(ptk)<-mycolname
ptk_norm <- ptk[ptk$mode == "normalized", ]
#ptk_norm <- subset(ptk_norm, select = -mode)
stk<-read.csv("~/treekernel-jss2025/results/RQ1/STK/metrics_RQ1_STK_no_filter.csv", header=FALSE)
colnames(stk)<-mycolname
stk_norm <- stk[stk$mode == "normalized", ]
#stk_norm <- subset(stk_norm, select = -mode)
sstk<-read.csv("~/treekernel-jss2025/results/RQ1/SSTK/metrics_RQ1_SSTK_no_filter.csv", header=FALSE)
colnames(sstk)<-mycolname
sstk_norm <- sstk[sstk$mode == "normalized", ]
#sstk_norm <- subset(sstk_norm, select = -mode)
esdf<-read.csv("~/treekernel-jss2025/results/RQ1/tfidf/metrics_RQ1_TFIDF.csv", header=FALSE, skip = 1)
colnames(esdf)<-mycolname
#esdf <- subset(esdf, select = -mode)
combined_data <- bind_rows(stk_norm, sstk_norm, ptk_norm, esdf)
long_data <- combined_data %>%
pivot_longer(cols = c(`Prec@5`,`Prec@10`, MRR, MAP),
names_to = "Metric",
values_to = "Value")
long_data <- subset(long_data, select = -mode)
all_plots<-ggplot(long_data, aes(x = kernel, y = Value, fill = kernel)) +
geom_boxplot() +
facet_wrap(~ Metric, scales = "free_y") +  # Facet by Metric, adjust y-axis independently for each
labs( y = "",x = "") +
scale_fill_manual(values = c("PTK" = "lightblue",  "SSTK"="lightgreen", "STK" = "grey")) +
theme_minimal() +
theme(legend.title = element_blank(),
axis.text.x = element_blank())
ggsave("~/treekernel-jss2025/results/RQ1/rq1-kernels-comparison.pdf",all_plots,width=5,height=4)
all_plots<-ggplot(long_data, aes(x = kernel, y = Value, fill = kernel)) +
geom_boxplot() +
facet_wrap(~ Metric, scales = "free_y") +  # Facet by Metric, adjust y-axis independently for each
labs( y = "",x = "") +
scale_fill_manual(values = c("PTK" = "lightblue",  "SSTK"="lightgreen", "STK" = "grey","TF-IDF"="pink")) +
theme_minimal() +
theme(legend.title = element_blank(),
axis.text.x = element_blank())
ggsave("~/treekernel-jss2025/results/RQ1/rq1-comparison-of-kernels-and-tfidf.pdf", all_plots,width=5,height=4)
